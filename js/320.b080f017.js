"use strict";(self["webpackChunkdggs_webgis"]=self["webpackChunkdggs_webgis"]||[]).push([[320],{1320:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var a=l(3673);const o=e=>((0,a.dD)("data-v-df2700d4"),e=e(),(0,a.Cn)(),e),r=(0,a.Uk)(" DGGS web-GIS "),i=o((()=>(0,a._)("div",null,"SPA",-1))),s=(0,a.Uk)("About project"),d=(0,a.Uk)("DGGS web-GIS");function n(e,t,l,o,n,u){const c=(0,a.up)("q-btn"),p=(0,a.up)("q-toolbar-title"),m=(0,a.up)("q-toolbar"),y=(0,a.up)("q-header"),h=(0,a.up)("q-icon"),S=(0,a.up)("q-item-section"),f=(0,a.up)("q-item"),g=(0,a.up)("LayersList"),w=(0,a.up)("q-list"),v=(0,a.up)("q-drawer"),_=(0,a.up)("router-view"),b=(0,a.up)("q-page-container"),G=(0,a.up)("q-layout"),W=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.j4)(G,{view:"hHh Lpr fFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{elevated:"",class:"bg-grey-1 text-grey-8"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:t[0]||(t[0]=e=>n.leftDrawerOpen=!n.leftDrawerOpen)}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[r])),_:1}),i])),_:1})])),_:1}),(0,a.Wm)(v,{modelValue:n.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leftDrawerOpen=e),"show-if-above":"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{class:"q-mt-lg"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(f,{to:"/",exact:"",clickable:"",active:"about"===n.link,onClick:t[1]||(t[1]=e=>n.link="about"),"active-class":"active-link"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{name:"info_outline"})])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[s])),_:1})])),_:1},8,["active"]),[[W]]),(0,a.wy)((0,a.Wm)(f,{to:"map",exact:"",clickable:"",active:"map"===n.link,onClick:t[2]||(t[2]=e=>n.link="map"),"active-class":"active-link"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{name:"public"})])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[d])),_:1})])),_:1},8,["active"]),[[W]]),(0,a.Wm)(g)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(_)])),_:1})])),_:1})}l(246);var u=l(8880),c=l(2323);const p={key:0},m={class:"q-mt-md"},y={class:"q-mt-md"},h={key:0},S={class:"q-mt-md"},f={class:"q-mt-md"},g={class:"q-mt-md"};function w(e,t,l,o,r,i){const s=(0,a.up)("q-checkbox"),d=(0,a.up)("q-item-section"),n=(0,a.up)("q-item-label"),w=(0,a.up)("q-item"),v=(0,a.up)("q-select"),_=(0,a.up)("q-tooltip"),b=(0,a.up)("q-list"),G=(0,a.up)("q-radio"),W=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u.uT,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,a.w5)((()=>["/map"===i.currentRouterPath?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",null,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.layersDGGS,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a.Wm)(w,{tag:"label",class:"row items-start"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:r.layersSelectedDGGS,"onUpdate:modelValue":t[0]||(t[0]=e=>r.layersSelectedDGGS=e),disable:i.disableLayers(e["dggs-id"]),val:e,color:"primary"},null,8,["modelValue","disable","val"])])),_:2},1024),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"text-black"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.title),1)])),_:2},1024),(0,a.Wm)(n,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i.layerSelected(e)?((0,a.wg)(),(0,a.j4)(w,{key:0,class:"row items-start"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",null,[(0,a.Wm)(v,{dense:"",outlined:"",modelValue:e.opacity,"onUpdate:modelValue":t=>e.opacity=t,options:[0,.2,.3,.4,.5,.6,.7,.8,.9,1],label:"Opacity"},null,8,["modelValue","onUpdate:modelValue","options"])])]),(0,a._)("div",m,[(0,a.Wm)(v,{dense:"",outlined:"",modelValue:e.level,"onUpdate:modelValue":t=>e.level=t,options:this.filterHexLevels(e.resolutions,this.mapZoom),label:"Level"},null,8,["modelValue","onUpdate:modelValue","options"])]),(0,a._)("div",y,[(0,a.Wm)(s,{dense:"",modelValue:e.choroplethStatus,"onUpdate:modelValue":t=>e.choroplethStatus=t,label:"Choropleth map"},null,8,["modelValue","onUpdate:modelValue"])]),e.choroplethStatus?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",S,[(0,a.Wm)(v,{dense:"",outlined:"",modelValue:e.choroplethRanges,"onUpdate:modelValue":t=>e.choroplethRanges=t,options:[2,3,4,5,6,7,8,9,10],label:"Classes"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a._)("div",f,[(0,a.Wm)(v,{dense:"",outlined:"",modelValue:e.choroplethRangesMode,"onUpdate:modelValue":t=>e.choroplethRangesMode=t,options:r.rangesMode,label:"Classification","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue","options"])]),(0,a._)("div",g,[(0,a.Wm)(v,{dense:"",outlined:"",modelValue:e.choroplethColorPalette,"onUpdate:modelValue":t=>e.choroplethColorPalette=t,options:["OrRd","BuGn","YlOrBr","Purples"],label:"Color palette","emit-value":"","map-options":""},null,8,["modelValue","onUpdate:modelValue"])])])):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1024)):(0,a.kq)("",!0),i.disableLayers(e["dggs-id"])?((0,a.wg)(),(0,a.j4)(_,{key:1},{default:(0,a.w5)((()=>[(0,a.Uk)(" The "+(0,c.zw)(e["dggs-id"])+" DGGS system is currently not supported. ",1)])),_:2},1024)):(0,a.kq)("",!0)])))),128))])),_:1})]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.layersVector,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(w,{key:e.id,tag:"label"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{modelValue:r.layersSelectedVector,"onUpdate:modelValue":t[1]||(t[1]=e=>r.layersSelectedVector=e),val:e,color:"primary"},null,8,["modelValue","val"])])),_:2},1024),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"text-black"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.title),1)])),_:2},1024),(0,a.Wm)(n,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1536)),[[W]]))),128))]),(0,a._)("div",null,[(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.layersRaster,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(w,{key:e.id,tag:"label"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,{modelValue:r.layerSelectedRaster,"onUpdate:modelValue":t[2]||(t[2]=e=>r.layerSelectedRaster=e),val:e,color:"primary"},null,8,["modelValue","val"])])),_:2},1024),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.title),1)])),_:2},1024),(0,a.Wm)(n,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,c.zw)(e.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1536)),[[W]]))),128))])),_:1})])])):(0,a.kq)("",!0)])),_:1})])}var v=l(4367),_=l(2291);const b=[{id:"countries",title:"Countries of the World",description:"List of all countries of the World from public source",attributions:"",url:"https://openlayers.org/en/latest/examples/data/geojson/countries.geojson",type:"vector",format:"geojson",projection:"EPSG:4326"},{id:"osm",title:"Open Street Map",description:"Collaborative project to create a free editable geographic database of the world",attributions:"",url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",type:"raster",format:"png",projection:"EPSG:4326"},{id:"esri_world_imagery",title:"ESRI World Imagery",description:"ESRI World Imagery",attributions:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}.png",type:"raster",format:"png",projection:"EPSG:4326"},{id:"wikimedia",title:"Wikimedia maps",description:"A general colour map wikimedia maps",attributions:"",url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",type:"raster",format:"png",projection:"EPSG:4326"},{id:"cartodb",title:"CartoDB Light",description:"Good for sticking color star ratings over the top of.",attributions:"",url:"https://{a-c}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",type:"raster",format:"png",projection:"EPSG:4326"},{id:"argistopomap",title:"ArcGIS World Topo Map",description:"ArcGIS REST tile services are supported by ol/source/XYZ",attributions:"",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",type:"raster",format:"png",projection:"EPSG:4326"}],G={name:"LayersList",components:{},data(){return{rangesMode:[{label:"equidistant",value:"e"},{label:"quantile",value:"q"}],layersAll:b,layersDGGS:[],layerSelectedRaster:null,layersSelectedVector:[],layersSelectedDGGS:[]}},watch:{layersSelectedVector(e,t){this.addSelectedLayersVector(this.layersSelectedVector)},layerSelectedRaster(e,t){this.addSelectedLayersRaster(this.layerSelectedRaster)},layersSelectedDGGS:{handler(e,t){let l=_(this.layersSelectedDGGS);this.addSelectedLayersDGGS(l)},deep:!0}},created(){let e=v(this.layersAll,(function(e){return"osm"===e.id}));this.layerSelectedRaster=e[0],this.getDGGSlayersList()},methods:{addSelectedLayersRaster(e){this.$store.commit("layers/SET_LAYERS_SELECTED_RASTER",e)},addSelectedLayersVector(e){this.$store.commit("layers/SET_LAYERS_SELECTED_VECTOR",e)},addSelectedLayersDGGS(e){this.$store.commit("layers/SET_LAYERS_SELECTED_DGGS",e)},layerSelected(e){return!(!this.layersSelectedVector.includes(e)&&!this.layersSelectedDGGS.includes(e))},getDGGSlayersList(){this.loading=!0;let e=this;this.$axios.get("https://dggs-api-bozea3cspa-ew.a.run.app/dggs-api/collections",{params:{},headers:{"Content-Type":"application/json"}}).then((t=>{let l=t.data["dggs-list"];l.forEach(((e,t,l)=>{e.level="3",e.opacity=.7,e.choroplethStatus=!1,e.choroplethParameter="",e.choroplethRanges=5,e.choroplethRangesMode="q",e.choroplethColorPalette="OrRd",e.zIndex=t+2})),e.layersDGGS=l,e.loading=!1})).catch((function(t){e.loading=!1}))},disableLayers(e){return"H3"!==e},filterHexLevels(e,t){console.log("zoom: "+t);var l=[];return t<=9?(l=e.filter((function(e){return e<=6})),l):t<=10?(l=e.filter((function(e){return e<=7})),l):t<=11?(l=e.filter((function(e){return e<=8})),l):t<=18?(l=e.filter((function(e){return e})),l):l}},computed:{currentRouterPath:function(){return this.$route.path},layersVector:function(){let e=this.layersAll,t=v(e,(function(e){return"vector"===e.type}));return t},layersRaster:function(){let e=this.layersAll,t=v(e,(function(e){return"raster"===e.type}));return t},mapZoom:function(){return this.$store.state.layers.zoom}}};var W=l(7011),V=l(3414),k=l(2035),D=l(6271),L=l(2350),R=l(5017),q=l(8870),E=l(7991),U=l(6489),C=l(7518),Z=l.n(C);G.render=w;const I=G;Z()(G,"components",{QList:W.Z,QItem:V.Z,QItemSection:k.Z,QCheckbox:D.Z,QItemLabel:L.Z,QSelect:R.Z,QTooltip:q.Z,QRadio:E.Z}),Z()(G,"directives",{Ripple:U.Z});const Q={name:"MainLayout",components:{LayersList:I},data(){return{leftDrawerOpen:!1,color:"",link:"home"}},watch:{layersSelectedVector(e,t){this.addSelectedLayersVector(this.layersSelectedVector)},layerSelectedRaster(e,t){this.addSelectedLayersRaster(this.layerSelectedRaster)}},methods:{},computed:{}};var T=l(3066),A=l(3812),P=l(9570),j=l(4607),x=l(3747),z=l(2428),M=l(4554),O=l(2652);Q.render=n,Q.__scopeId="data-v-df2700d4";const H=Q;Z()(Q,"components",{QLayout:T.Z,QHeader:A.Z,QToolbar:P.Z,QBtn:j.Z,QToolbarTitle:x.Z,QDrawer:z.Z,QList:W.Z,QItem:V.Z,QItemSection:k.Z,QIcon:M.Z,QPageContainer:O.Z}),Z()(Q,"directives",{Ripple:U.Z})}}]);